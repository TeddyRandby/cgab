EMPTY = []?

\sort :defcase! {
  EMPTY    []

  'record' () => do
    (tail head) = self:pop

    smaller = tail:filter(a => a <= head):sort
    bigger = tail:filter(a => a > head):sort

    smaller:push(head, bigger**)
  end
}

[1 2 3]:sort:println
[3 1 2]:sort:println
[3 2 1]:sort:println
