:use .records
:use .streams
:use .dis

nums = [ 0, 1, 2, 3, 4, 5 ]

nums:print 'nums'

nums_times_two = nums:tuple.collect(
  &:map,
  &:pairs,
  => @2 * 2,
  nums:len,
)

nums_times_two:print 'times two'

filtered_nums = nums:tuple.collect(
  &:filter,
  &:pairs,
  => @2 % 2 == 0,
  nums:len / 2,
)

filtered_nums:print 'filtered'

take_filtered = nums:tuple.collect(
  &:take,
  &:filter,
  &:pairs,
  => @1 % 2 == 0,
  2,
  2,
)

take_filtered:print 'take filtered'

#&:_streams.take :dis .gab.suspense
