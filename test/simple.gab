\iter.conditionally :defcase! {
  .true (r, acc, xs, s) => (s, r:reduce.step(acc, xs**)),
  .false (r, acc, xs, s) => (s, .next, r, acc),
}

\filter :defiter! f => do
  (r, acc, xs) => do
    (f:(xs**)):iter.conditionally(r, acc, xs)
  end
end
