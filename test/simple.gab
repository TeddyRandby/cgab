'core' :use
'records':use
'numbers' :use

record = [1,2,3]
sum = record:map(\values, 0, \+, \++)
'map record with \++, reduce with \+: {sum}':print

td = .td:compose (
  .td:map do x; '{x}' end,
  .td:interpose ',',
)

record:transduce(\pairs, '', \+, td):print

'until':print(record:until(\values, 0, \+, do x
  x > 2
end))

10:until(\upto, 0, \+, do x
  x > 5
end):print
