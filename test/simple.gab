specs, spec,tries = 1, 1, 1

loop
  value, valid, tries = spec:spec.gen, false, tries + 1

  for _, spec in specs:each
    (valid = spec:spec.fits?(value)) or break
  end

  valid and break value
until tries == 100 end
