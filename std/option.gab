def Some { some }

def none[]
    nil
end

def some[]
    { some: self }
end

def print[Some]
    'Some({self.some})':print
end

def unwrap[Some]
    self.some
end

def unwrap[nil]
    panic('Tried to unwrap nil')
end

def unwrap_or[Some](alternative)
    self
end

def unwrap_or[nil](alternative)
    alternative
end

def ok_or[Some](err)
    self.some
end

def ok_or[nil](err)
    err
end
