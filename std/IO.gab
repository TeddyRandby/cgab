'symbol':require
'fiber':require

def read[.IO](path, config)
    return :fiber do
        def io = 'io':require

        status, fd = io:open(path, 'r')

        status == .ok or return status

        return fd:read
    end
end

:symbol('IO')
