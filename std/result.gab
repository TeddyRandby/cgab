#
# A result.
#

let OK, ERR = $ok, $err

#
# Ok
#

def Ok  { [OK] }

def ok[]
  { [OK]: self }
end

def print[Ok]
  'Ok({self[OK]})':print
end

def unwrap[Ok]
  self[OK]
end

def unwrap_or[Ok](alternative)
  self[OK]
end

#
# Err
#

def Err { [ERR] }

def err[]
  { [ERR]: self }
end

def print[Err]
  'Err({self[ERR]})':print
end

def unwrap[Err]
    panic(self[ERR])
end

def unwrap_or[Err](alternative)
  alternative
end
