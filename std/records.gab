'core' :use

records.t = 'crecords' :use

[records.t] :defmodule! {
  \has? = do key
    self:at(key) == .ok
  end,
}

records.t :def.seq! do
  i = self
  {
    v = -1,
    seq.next = do
      nx = self:v + 1
      self:v = nx
      i :at_index nx
    end,
  }
end

records.t
