def get = do (obj, key)
    obj[key]
end

def Vector { x y }

z = get({ x = 1 y = 2}, 'x')

def [] [Vector](key)
    key == 'mag' then
      return self.x * self.x + self.y * self.y
    end
end

a = get({ x = 1 y = 1}, 'mag')
b = get({ x = 3 y = 4}, 'mag')

z:print
a:print
b:print
