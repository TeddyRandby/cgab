:use 'std/specs'

def car.spec      = :spec.record { car.make car.model car.year car.color }
def car.make.spec = :spec.or('Ford', 'Chevy', 'Toyota', 'Honda')

:spec.def 'car.year'  { spec = &:is_n }
:spec.def 'car.color' { spec = &:is_s }
:spec.def 'car.model' { spec = &:is_s }
:spec.def 'car.make'  { spec = car.make.spec }

..result = car.spec:spec.fits? { car.make = '' car.model = 'F150' car.year = 2012 car.color = 'red' }

result:print

generated = car.spec:spec.gen

generated:print
